{%include ../../templates/header.html %}

<h1>Abgabe {{ submission.id }}</h1>
Von <a href="/student/{{ submission.student_id }}">Student {{ submission.student_id }}</a>
f√ºr <a href="/sheet/{{ submission.sheet_id }}">Blatt {{ submission.sheet_id }}</a>,
abgegeben {{ submission.time }}

<h2>Dateien</h2>

<table>
  <tr>
    <th>Datei-ID</th>
    <th>Hash</th>
    <th>Name</th>
  </tr>
  {% for file in files %}
  <tr>
    <td>{{ file.id }}</td>
    <td>{{ file.hash }}</td>
    <td>
      <a href="/download/{{ file.hash }}">{{ file.filename }}</a>
    </td>
  </tr>
  {% end %}
</table>

<h2>Korrektur</h2>

{% for grade in grading %}
  <h3>Aufgabe {{ grade["task"].name }}</h3>
  <form action="/submission/{{ submission.id }}/grade/{{ grade["task"].id }}" method="post">
    {% module xsrf_form_html() %}
    <textarea name="comment" placeholder="Kommentar" cols="100" rows="4">
      {% if grade["grading"] %}{{ grade["grading"].comment }}{% end %}
    </textarea><br>
    Punkte:
    <input type="number" name="points" value="{% if grade["grading"] %}{{ grade["grading"].decipoints }}{% end %}" step="0.1">
     von {{ grade["task"].decipoints }}
    <input type="submit" title="Speichern">
  </form>
{% end %}

{%include ../../templates/footer.html %}
