<!DOCTYPE html>
<html>
<head>
	<title>netsec-Übungssystem - Korrekturserver</title>
	{% include ../htmldocs/style.css %}
</head>
<body>
	{% include ../htmldocs/menubar.html %}

	<h1>{{ sheet.name }}</h1>
	<form method="post" action="/sheetmanager">
		<input type="hidden" name="type" value="renameSheet">
		<input type="hidden" name="oldName" value="{{ sheet.name }}">
		<input type="hidden" name="sheetID" value="{{ sheet.id }}">
		<label>
			Blattname: 
			<input type="text" name="newName" value="{{ sheet.name }}">
		</label>
		<input type="submit" value="Speichern">
	</form>
	<table class="table">
		<tr>
			<th>Aufgabe</th>
			<th>Aufgabenstellung</th>
			<th>max. Punkte</th>
			<th colspan="2"></th>
		</tr>
		{% for task in sheet.tasks %}
			<tr>
				<form method="post" action="/sheetmanager">
					<input type="hidden" name="type" value="editTask">
                    <input type="hidden" name="sheetID" value="{{ sheet.id }}">
                    <input type="hidden" name="taskID" value="{{ task.id }}">
					<td>
						<input type="hidden" name="oldName" value="{{ task.name }}">
						<input type="text" name="newName" value="{{ task.name }}" style="width:100%">
					</td>
					<td>
						<input type="hidden" name="oldDescription" value="{{ task.description }}">
						<input type="text" name="newDescription" value="{{ task.description }}" style="width:100%">
					</td>
					<td>
						<input type="hidden" name="oldPoints" value="{{ task.maxPoints }}">
						<input type="number" name="newPoints" min="0" step="any" value="{{ task.maxPoints }}">
					</td>
                    <td>
                        <input type="submit" value="Speichern">
                    </td>
                </form>
                <form method="post" action="/sheetmanager">
                    <td>
                        <input type="hidden" name="type" value="deleteTask">
                        <input type="hidden" name="sheetID" value="{{ sheet.id }}">
                        <input type="hidden" name="taskID" value="{{ task.id }}">
                        <input type="submit" value="Löschen">
					</td>
				</form>
			</tr>
		{% end %}
		<tr>
			<td colspan="5">
				<hr>
			</td>
		</tr>
		<tr>
			<form method="post" action="/sheetmanager">
				<input type="hidden" name="type" value="newTask">
				<input type="hidden" name="sheetID" value="{{ sheet.id }}">
				<td>
					<input type="text" name="name" style="width:100%">
				</td>
				<td>
					<input type="text" name="description" style="width:100%">
				</td>
				<td>
					<input type="number" name="points" min="0" step="any">
				</td>
				<td colspan="2">
					<input type="submit" value="Hinzuf&uuml;gen">
				</td>
			</form>
		</tr>
	</table>
</body>
</html>
